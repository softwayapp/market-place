---
name: setup-executor
description: Parse claude.md and execute setup instructions automatically
category: skill
triggers:
  - "claude.mdëŒ€ë¡œ ì‹¤í–‰"
  - "claude.md ì‹¤í–‰"
  - "ì„¤ì • ì‹¤í–‰"
  - "ì…‹ì—… ì‹¤í–‰"
  - "ì‹¤í–‰í•´"
  - "ì‹œìž‘í•´"
  - "ì§„í–‰í•´"
  - "ì„¤ì •í•´"
  - "ì…‹ì—…í•´"
  - "run setup"
  - "execute setup"
  - "start setup"
  - "run it"
  - "execute it"
  - "execute according to claude.md"
  - "follow claude.md"
---

# Setup Executor Skill

## Purpose
Parse `claude.md` setup guide and execute all setup tasks automatically with flexible natural language triggers.

## Activation

### Korean Triggers
- "ì‹¤í–‰í•´" / "ì‹¤í–‰í•´ì¤˜"
- "ì„¤ì •í•´" / "ì„¤ì •í•´ì¤˜"
- "ì…‹ì—…í•´" / "ì…‹ì—…í•´ì¤˜"
- "ì‹œìž‘í•´" / "ì‹œìž‘í•´ì¤˜"
- "ì§„í–‰í•´" / "ì§„í–‰í•´ì¤˜"
- "claude.mdëŒ€ë¡œ ì‹¤í–‰ì‹œì¼œì¤˜"
- "claude.md ì‹¤í–‰í•´ì¤˜"

### English Triggers
- "run it" / "run setup"
- "execute" / "execute setup"
- "start" / "start setup"
- "go" / "proceed"
- "execute according to claude.md"
- "follow claude.md instructions"

## Detection Logic

The skill activates when:
1. `claude.md` exists in project root
2. User input matches any trigger pattern
3. claude.md contains setup guide marker (`Auto-generated by /init:`)

## Execution Flow

### Phase 1: Validation âœ…
```bash
1. Check if claude.md exists
2. Verify it's a setup guide (not project documentation)
3. Extract framework type (Expo or Next.js)
4. Show setup task summary to user
5. Request confirmation
```

### Phase 2: Parse Instructions ðŸ“–
```bash
1. Run parse-claude-md.js to extract:
   - Dependencies to install
   - Folder structure to create
   - Font files to download
   - Configuration files to generate
   - Framework metadata (expo/nextjs)

2. Generate execution plan JSON
3. Save to /tmp/setup-instructions.json
```

### Phase 3: Execute Setup ðŸš€
```bash
1. Install dependencies (framework-specific)
2. Create Atomic Design folder structure
3. Download Pretendard fonts
4. Generate configuration files
5. Create barrel export files (index.ts)
6. Log all operations
```

### Phase 4: Finalize ðŸŽ‰
```bash
1. Backup original claude.md â†’ claude.md.setup-backup
2. Generate project documentation from template
3. Replace claude.md with new content
4. Offer git commit
5. Display completion summary
```

## Implementation

### Main Execution Script

**File**: `~/.claude/skills/setup-executor/execute-instructions.sh`

This script orchestrates the entire setup process with error handling and progress tracking.

### Parser Script

**File**: `~/.claude/skills/setup-executor/parse-claude-md.js`

Extracts structured data from claude.md setup guide.

## Error Handling

### Network Failures
- Retry font downloads up to 3 times
- Continue with other tasks if one font fails
- Log failures for user review

### Package Installation Failures
- Stop execution on critical package failures
- Offer retry or skip options
- Save progress state

### File Creation Failures
- Check write permissions before starting
- Rollback on critical failures
- Maintain backup of original state

## Success Criteria

- âœ… All dependencies installed
- âœ… Folder structure created
- âœ… Fonts downloaded to correct location
- âœ… Configuration files generated
- âœ… Original claude.md backed up
- âœ… New documentation generated
- âœ… No errors in log file

## Usage Example

```bash
# User creates new project
/init:expo MyApp

# claude.md setup guide is generated
# User triggers setup with natural language:

User: "ì‹¤í–‰í•´ì¤˜"
# or
User: "ì„¤ì •í•´"
# or
User: "run it"

# Claude Code detects trigger and activates setup-executor skill
# Shows confirmation dialog with tasks
# Executes setup automatically
# Replaces claude.md with final documentation
```

## Integration

- **Commands**: `/init:expo`, `/init:next`
- **Templates**: `expo-setup-guide.md`, `next-setup-guide.md`
- **Font Skill**: References font download patterns
- **MCP Servers**: None required (native execution)

## Configuration

No additional configuration required. Skill activates automatically when:
- User input matches trigger patterns
- claude.md exists and is a setup guide
- Project is Expo or Next.js

## Logs

- **Execution Log**: `.setup-execution.log` in project root
- **Backup**: `claude.md.setup-backup` before replacement
- **Instructions JSON**: `/tmp/setup-instructions.json` (temporary)
